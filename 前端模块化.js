// //å‰ç«¯æ¨¡å—åŒ–(CommonJs,AMD,CMD)
// // AMD:æå‰æ‰§è¡Œï¼ˆå¼‚æ­¥åŠ è½½ï¼šä¾èµ–å…ˆæ‰§è¡Œï¼‰+å»¶è¿Ÿæ‰§è¡Œ
// // CMD:å»¶è¿Ÿæ‰§è¡Œï¼ˆè¿è¡Œåˆ°éœ€åŠ è½½ï¼Œæ ¹æ®é¡ºåºæ‰§è¡Œï¼‰
// //  CommonJs
// math.js
// exports.add = function() {
//     var sum = 0, i = 0, args = arguments, l = args.length;
//     while (i < l) {
//       sum += args[i++];
//     }
//     return sum;
// };

// increment.js
// var add = require('math').add;
// exports.increment = function(val) {
//     return add(val, 1);
// };

// index.js
// var increment = require('increment').increment;
// var a = increment(1); //2
// // CommonJsåŠ è½½æ¨¡å—ä½¿ç”¨requireæ–¹æ³•ï¼Œæ”¹æ–¹æ³•è¯»å–ä¸€ä¸ªæ–‡ä»¶å¹¶æ‰§è¡Œï¼Œè¿”å›æ–‡ä»¶å†…éƒ¨ç¬¬äºŒmodule.exportså¯¹è±¡
// //ä»”ç»†çœ‹ä¸Šé¢çš„ä»£ç ï¼Œæ‚¨ä¼šæ³¨æ„åˆ° require æ˜¯åŒæ­¥çš„ã€‚æ¨¡å—ç³»ç»Ÿéœ€è¦åŒæ­¥è¯»å–æ¨¡å—æ–‡ä»¶å†…å®¹ï¼Œå¹¶ç¼–è¯‘æ‰§è¡Œä»¥å¾—åˆ°æ¨¡å—æ¥å£ã€‚
// //æµè§ˆå™¨ç«¯ï¼ŒåŠ è½½ JavaScript æœ€ä½³ã€æœ€å®¹æ˜“çš„æ–¹å¼æ˜¯åœ¨ document ä¸­æ’å…¥<script>æ ‡ç­¾ã€‚ä½†è„šæœ¬æ ‡ç­¾å¤©ç”Ÿå¼‚æ­¥ï¼Œä¼ ç»Ÿ CommonJS æ¨¡å—åœ¨æµè§ˆå™¨ç¯å¢ƒä¸­æ— æ³•æ­£å¸¸åŠ è½½ã€‚
// math.js
// define(function(require, exports, module) {
//   exports.add = function() {
//     var sum = 0, i = 0, args = arguments, l = args.length;
//     while (i < l) {
//       sum += args[i++];
//     }
//     return sum;
//   };
// });

// increment.js
// define(function(require, exports, module) {
//   var add = require('math').add;
//   exports.increment = function(val) {
//     return add(val, 1);
//   };
// });

// index.js
// define(function(require, exports, module) {
//   var inc = require('increment').increment;
//   inc(1); // 2
// });
// // AMDæ˜¯"Asynchronous Module Definition"çš„ç¼©å†™ï¼Œæ„æ€å°±æ˜¯"å¼‚æ­¥æ¨¡å—å®šä¹‰"ã€‚ç”±äºä¸æ˜¯JavaScriptåŸç”Ÿæ”¯æŒï¼Œä½¿ç”¨AMDè§„èŒƒè¿›è¡Œé¡µé¢å¼€å‘éœ€è¦ç”¨åˆ°å¯¹åº”çš„åº“å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯å¤§åé¼é¼RequireJSï¼Œå®é™…ä¸ŠAMD æ˜¯ RequireJS åœ¨æ¨å¹¿è¿‡ç¨‹ä¸­å¯¹æ¨¡å—å®šä¹‰çš„è§„èŒƒåŒ–çš„äº§å‡º

// // å®ƒé‡‡ç”¨å¼‚æ­¥æ–¹å¼åŠ è½½æ¨¡å—ï¼Œæ¨¡å—çš„åŠ è½½ä¸å½±å“å®ƒåé¢è¯­å¥çš„è¿è¡Œã€‚æ‰€æœ‰ä¾èµ–è¿™ä¸ªæ¨¡å—çš„è¯­å¥ï¼Œéƒ½å®šä¹‰åœ¨ä¸€ä¸ªå›è°ƒå‡½æ•°ä¸­ï¼Œç­‰åˆ°åŠ è½½å®Œæˆä¹‹åï¼Œè¿™ä¸ªå›è°ƒå‡½æ•°æ‰ä¼šè¿è¡Œã€‚

// // RequireJSä¸»è¦è§£å†³ä¸¤ä¸ªé—®é¢˜

// // å¤šä¸ªjsæ–‡ä»¶å¯èƒ½æœ‰ä¾èµ–å…³ç³»ï¼Œè¢«ä¾èµ–çš„æ–‡ä»¶éœ€è¦æ—©äºä¾èµ–å®ƒçš„æ–‡ä»¶åŠ è½½åˆ°æµè§ˆå™¨
// // jsåŠ è½½çš„æ—¶å€™æµè§ˆå™¨ä¼šåœæ­¢é¡µé¢æ¸²æŸ“ï¼ŒåŠ è½½æ–‡ä»¶è¶Šå¤šï¼Œé¡µé¢å¤±å»å“åº”æ—¶é—´è¶Šé•¿
// // RequireJsä¹Ÿé‡‡ç”¨require()è¯­å¥åŠ è½½æ¨¡å—ï¼Œä½†æ˜¯ä¸åŒäºCommonJSï¼Œå®ƒè¦æ±‚ä¸¤ä¸ªå‚æ•°:

// // ç¬¬ä¸€ä¸ªå‚æ•°[module]ï¼Œæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œé‡Œé¢çš„æˆå‘˜å°±æ˜¯è¦åŠ è½½çš„æ¨¡å—ï¼›ç¬¬äºŒä¸ªå‚æ•°callbackï¼Œåˆ™æ˜¯åŠ è½½æˆåŠŸä¹‹åçš„å›è°ƒå‡½æ•°ã€‚math.add()ä¸mathæ¨¡å—åŠ è½½ä¸æ˜¯åŒæ­¥çš„ï¼Œæµè§ˆå™¨ä¸ä¼šå‘ç”Ÿå‡æ­»

// // ä½œè€…ï¼šlinwalker
// // é“¾æ¥ï¼šhttps://www.jianshu.com/p/d67bc79976e6
// // æ¥æºï¼šç®€ä¹¦
// // è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
// // require([module], callback);

// // require([increment'], function (increment) {
// // ã€€   increment.add(1);
// // });

// // CMD
// define(function(require, exports, module) {
//     var a = require('./a')
//     a.doSomething()
//     // æ­¤å¤„ç•¥å» 100 è¡Œ
//     var b = require('./b') // ä¾èµ–å¯ä»¥å°±è¿‘ä¹¦å†™
//     b.doSomething()
//     // ... 
//   })
  
//   // AMD é»˜è®¤æ¨èçš„æ˜¯
//   define(['./a', './b'], function(a, b) { // ä¾èµ–å¿…é¡»ä¸€å¼€å§‹å°±å†™å¥½
//     a.doSomething()
//     // æ­¤å¤„ç•¥å» 100 è¡Œ
//     b.doSomething()
//     ...
//   }) 



//   AMDæ˜¯"Asynchronous Module Definition"çš„ç¼©å†™ï¼Œæ„æ€å°±æ˜¯"å¼‚æ­¥æ¨¡å—å®šä¹‰"ã€‚ç”±äºä¸æ˜¯JavaScriptåŸç”Ÿæ”¯æŒï¼Œä½¿ç”¨AMDè§„èŒƒè¿›è¡Œé¡µé¢å¼€å‘éœ€è¦ç”¨åˆ°å¯¹åº”çš„åº“å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯å¤§åé¼é¼RequireJSï¼Œå®é™…ä¸ŠAMD æ˜¯ RequireJS åœ¨æ¨å¹¿è¿‡ç¨‹ä¸­å¯¹æ¨¡å—å®šä¹‰çš„è§„èŒƒåŒ–çš„äº§å‡º

// å®ƒé‡‡ç”¨å¼‚æ­¥æ–¹å¼åŠ è½½æ¨¡å—ï¼Œæ¨¡å—çš„åŠ è½½ä¸å½±å“å®ƒåé¢è¯­å¥çš„è¿è¡Œã€‚æ‰€æœ‰ä¾èµ–è¿™ä¸ªæ¨¡å—çš„è¯­å¥ï¼Œéƒ½å®šä¹‰åœ¨ä¸€ä¸ªå›è°ƒå‡½æ•°ä¸­ï¼Œç­‰åˆ°åŠ è½½å®Œæˆä¹‹åï¼Œè¿™ä¸ªå›è°ƒå‡½æ•°æ‰ä¼šè¿è¡Œã€‚

// RequireJSä¸»è¦è§£å†³ä¸¤ä¸ªé—®é¢˜

// å¤šä¸ªjsæ–‡ä»¶å¯èƒ½æœ‰ä¾èµ–å…³ç³»ï¼Œè¢«ä¾èµ–çš„æ–‡ä»¶éœ€è¦æ—©äºä¾èµ–å®ƒçš„æ–‡ä»¶åŠ è½½åˆ°æµè§ˆå™¨
// jsåŠ è½½çš„æ—¶å€™æµè§ˆå™¨ä¼šåœæ­¢é¡µé¢æ¸²æŸ“ï¼ŒåŠ è½½æ–‡ä»¶è¶Šå¤šï¼Œé¡µé¢å¤±å»å“åº”æ—¶é—´è¶Šé•¿
// RequireJsä¹Ÿé‡‡ç”¨require()è¯­å¥åŠ è½½æ¨¡å—ï¼Œä½†æ˜¯ä¸åŒäºCommonJSï¼Œå®ƒè¦æ±‚ä¸¤ä¸ªå‚æ•°:

// ç¬¬ä¸€ä¸ªå‚æ•°[module]ï¼Œæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œé‡Œé¢çš„æˆå‘˜å°±æ˜¯è¦åŠ è½½çš„æ¨¡å—ï¼›ç¬¬äºŒä¸ªå‚æ•°callbackï¼Œåˆ™æ˜¯åŠ è½½æˆåŠŸä¹‹åçš„å›è°ƒå‡½æ•°ã€‚math.add()ä¸mathæ¨¡å—åŠ è½½ä¸æ˜¯åŒæ­¥çš„ï¼Œæµè§ˆå™¨ä¸ä¼šå‘ç”Ÿå‡æ­»ã€‚

// require([module], callback);

// require([increment'], function (increment) {
// ã€€   increment.add(1);
// });
// define()å‡½æ•°
// RequireJSå®šä¹‰äº†ä¸€ä¸ªå‡½æ•° defineï¼Œå®ƒæ˜¯å…¨å±€å˜é‡ï¼Œç”¨æ¥å®šä¹‰æ¨¡å—:
// define(id?, dependencies?, factory);
// å‚æ•°è¯´æ˜ï¼š

// idï¼šæŒ‡å®šä¹‰ä¸­æ¨¡å—çš„åå­—ï¼Œå¯é€‰ï¼›å¦‚æœæ²¡æœ‰æä¾›è¯¥å‚æ•°ï¼Œæ¨¡å—çš„åå­—åº”è¯¥é»˜è®¤ä¸ºæ¨¡å—åŠ è½½å™¨è¯·æ±‚çš„æŒ‡å®šè„šæœ¬çš„åå­—ã€‚å¦‚æœæä¾›äº†è¯¥å‚æ•°ï¼Œæ¨¡å—åå¿…é¡»æ˜¯â€œé¡¶çº§â€çš„å’Œç»å¯¹çš„ï¼ˆä¸å…è®¸ç›¸å¯¹åå­—ï¼‰ã€‚

// ä¾èµ–dependenciesï¼šæ˜¯ä¸€ä¸ªå½“å‰æ¨¡å—ä¾èµ–çš„ï¼Œå·²è¢«æ¨¡å—å®šä¹‰çš„æ¨¡å—æ ‡è¯†çš„æ•°ç»„å­—é¢é‡ã€‚
// ä¾èµ–å‚æ•°æ˜¯å¯é€‰çš„ï¼Œå¦‚æœå¿½ç•¥æ­¤å‚æ•°ï¼Œå®ƒåº”è¯¥é»˜è®¤ä¸º["require", "exports", "module"]ã€‚ç„¶è€Œï¼Œå¦‚æœå·¥å‚æ–¹æ³•çš„é•¿åº¦å±æ€§å°äº3ï¼ŒåŠ è½½å™¨ä¼šé€‰æ‹©ä»¥å‡½æ•°çš„é•¿åº¦å±æ€§æŒ‡å®šçš„å‚æ•°ä¸ªæ•°è°ƒç”¨å·¥å‚æ–¹æ³•ã€‚

// å·¥å‚æ–¹æ³•factoryï¼Œæ¨¡å—åˆå§‹åŒ–è¦æ‰§è¡Œçš„å‡½æ•°æˆ–å¯¹è±¡ã€‚å¦‚æœä¸ºå‡½æ•°ï¼Œå®ƒåº”è¯¥åªè¢«æ‰§è¡Œä¸€æ¬¡ã€‚å¦‚æœæ˜¯å¯¹è±¡ï¼Œæ­¤å¯¹è±¡åº”è¯¥ä¸ºæ¨¡å—çš„è¾“å‡ºå€¼ã€‚

// æ¥ä¸¾ä¸ªğŸŒ°çœ‹çœ‹ï¼š

// define("alpha", ["require", "exports", "beta"], function (require, exports, beta) {
//       exports.verb = function() {
//           return beta.verb();
//           //Or:
//           return require("beta").verb();
//       }
//   });
// RequireJsä½¿ç”¨ä¾‹å­
// require.configæ˜¯ç”¨æ¥å®šä¹‰åˆ«åçš„ï¼Œåœ¨pathså±æ€§ä¸‹é…ç½®åˆ«åã€‚ç„¶åé€šè¿‡requirejs(å‚æ•°ä¸€ï¼Œå‚æ•°äºŒ)ï¼›å‚æ•°ä¸€æ˜¯æ•°ç»„ï¼Œä¼ å…¥æˆ‘ä»¬éœ€è¦å¼•ç”¨çš„æ¨¡å—åï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸ªå›è°ƒå‡½æ•°ï¼Œå›è°ƒå‡½æ•°ä¼ å…¥ä¸€ä¸ªå˜é‡ï¼Œä»£æ›¿åˆšæ‰æ‰€å¼•å…¥çš„æ¨¡å—ã€‚

// main.js
// //åˆ«åé…ç½®
// requirejs.config({
//     paths: {
//         jquery: 'jquery.min' //å¯ä»¥çœç•¥.js
//     }
// });
// //å¼•å…¥æ¨¡å—ï¼Œç”¨å˜é‡$è¡¨ç¤ºjqueryæ¨¡å—
// requirejs(['jquery'], function ($) {
//     $('body').css('background-color','red');
// });
// å¼•å…¥æ¨¡å—ä¹Ÿå¯ä»¥åªå†™require()ã€‚requirejsé€šè¿‡define()å®šä¹‰æ¨¡å—ï¼Œå®šä¹‰çš„å‚æ•°ä¸ŠåŒã€‚åœ¨æ­¤æ¨¡å—å†…çš„æ–¹æ³•å’Œå˜é‡å¤–éƒ¨æ˜¯æ— æ³•è®¿é—®çš„ï¼Œåªæœ‰é€šè¿‡returnè¿”å›æ‰è¡Œ.

// math.js
// define('math',['jquery'], function ($) {//å¼•å…¥jQueryæ¨¡å—
//     return {
//         add: function(x,y){
//             return x + y;
//         }
//     };
// });
// å°†è¯¥æ¨¡å—å‘½åä¸ºmath.jsä¿å­˜ã€‚

// require(['jquery','math'], function ($,math) {
//     console.log(math.add(10,100));//110
// });
// main.jså¼•å…¥æ¨¡å—æ–¹æ³•

// CMD
// CMD å³Common Module Definitioné€šç”¨æ¨¡å—å®šä¹‰ï¼ŒCMDè§„èŒƒæ˜¯å›½å†…å‘å±•å‡ºæ¥çš„ï¼Œå°±åƒAMDæœ‰ä¸ªrequireJSï¼ŒCMDæœ‰ä¸ªæµè§ˆå™¨çš„å®ç°SeaJSï¼ŒSeaJSè¦è§£å†³çš„é—®é¢˜å’ŒrequireJSä¸€æ ·ï¼Œåªä¸è¿‡åœ¨æ¨¡å—å®šä¹‰æ–¹å¼å’Œæ¨¡å—åŠ è½½ï¼ˆå¯ä»¥è¯´è¿è¡Œã€è§£æï¼‰æ—¶æœºä¸Šæœ‰æ‰€ä¸åŒã€‚

// åœ¨ CMD è§„èŒƒä¸­ï¼Œä¸€ä¸ªæ¨¡å—å°±æ˜¯ä¸€ä¸ªæ–‡ä»¶ã€‚ä»£ç çš„ä¹¦å†™æ ¼å¼å¦‚ä¸‹:

// define(function(require, exports, module) {

//   // æ¨¡å—ä»£ç 

// });
// requireæ˜¯å¯ä»¥æŠŠå…¶ä»–æ¨¡å—å¯¼å…¥è¿›æ¥çš„ä¸€ä¸ªå‚æ•°;è€Œexportsæ˜¯å¯ä»¥æŠŠæ¨¡å—å†…çš„ä¸€äº›å±æ€§å’Œæ–¹æ³•å¯¼å‡ºçš„;module æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä¸Šé¢å­˜å‚¨äº†ä¸å½“å‰æ¨¡å—ç›¸å…³è”çš„ä¸€äº›å±æ€§å’Œæ–¹æ³•ã€‚

// AMDæ˜¯ä¾èµ–å…³ç³»å‰ç½®,åœ¨å®šä¹‰æ¨¡å—çš„æ—¶å€™å°±è¦å£°æ˜å…¶ä¾èµ–çš„æ¨¡å—;
// CMDæ˜¯æŒ‰éœ€åŠ è½½ä¾èµ–å°±è¿‘,åªæœ‰åœ¨ç”¨åˆ°æŸä¸ªæ¨¡å—çš„æ—¶å€™å†å»requireï¼š

// // CMD
// define(function(require, exports, module) {
//   var a = require('./a')
//   a.doSomething()
//   // æ­¤å¤„ç•¥å» 100 è¡Œ
//   var b = require('./b') // ä¾èµ–å¯ä»¥å°±è¿‘ä¹¦å†™
//   b.doSomething()
//   // ... 
// })

// // AMD é»˜è®¤æ¨èçš„æ˜¯
// define(['./a', './b'], function(a, b) { // ä¾èµ–å¿…é¡»ä¸€å¼€å§‹å°±å†™å¥½
//   a.doSomething()
//   // æ­¤å¤„ç•¥å» 100 è¡Œ
//   b.doSomething()
//   ...
// }) 
// seajsä½¿ç”¨ä¾‹å­

// // å®šä¹‰æ¨¡å—  myModule.js
// define(function(require, exports, module) {
//   var $ = require('jquery.js')
//   $('div').addClass('active');
//   exports.data = 1;
// });

// // åŠ è½½æ¨¡å—
// seajs.use(['myModule.js'], function(my){
//     var star= my.data;
//     console.log(star);  //1
// });

// ä½œè€…ï¼šlinwalker
// é“¾æ¥ï¼šhttps://www.jianshu.com/p/d67bc79976e6
// æ¥æºï¼šç®€ä¹¦
// è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚